分布式锁的涉及场景
互联网秒杀
抢优惠券
stringRedisTemplate
秒杀减库存  并发安全的问题  假设有3个用户同时请求这个接口
{
//1.模拟高并发场景{}


}

nginx.conf------->localhost:// 反向代理


1.nginx------->{ 8080;8090端口}
访问nginx 
2.高并发情景 超卖现象
采用jmeter  模拟高并发
肯定会有一个相同的日志  {扣减成功 库存剩余90}//  意味着91这条库存被重复扣减了{被重复消费了}
并发越高 重复的概率越大
--------------->分布式情况下jvm级别锁就不适用了

如何去解决 单机锁
此时应该用分布式锁  用redis就可以实现分布式锁
redis的命令 setnx  
只有在键key 不存在的情况下  将键key 的值设置为value
若key键已经存在 则setnx 命令不做任何处理
设置成功返回1 失败返回0 